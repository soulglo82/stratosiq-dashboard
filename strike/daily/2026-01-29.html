<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Strike Dashboard | Wednesday, January 28, 2026</title>
  <link href="https://unpkg.com/tabulator-tables@6.3.0/dist/css/tabulator_midnight.min.css" rel="stylesheet">
  <style>
* { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg-dark: #0d1117;
  --bg-card: #161b22;
  --bg-input: #21262d;
  --border: #30363d;
  --text: #e6edf3;
  --text-muted: #8b949e;
  --accent-green: #3fb950;
  --accent-teal: #39d353;
  --accent-yellow: #d29922;
  --accent-orange: #db6d28;
  --accent-red: #f85149;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  background: var(--bg-dark);
  color: var(--text);
  padding: 16px 24px;
  max-width: 1800px;
  margin: 0 auto;
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0 16px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 16px;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.logo {
  font-size: 22px;
  font-weight: 700;
  color: var(--accent-orange);
  letter-spacing: 1px;
}

.version {
  background: var(--accent-orange);
  color: #000;
  font-size: 11px;
  font-weight: 600;
  padding: 3px 8px;
  border-radius: 12px;
}

.header-right {
  text-align: right;
}

.date-info {
  font-size: 14px;
  color: var(--text-muted);
}

.contract-count {
  font-size: 13px;
  color: var(--accent-orange);
  font-weight: 500;
}

.risk-notice {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 10px 16px;
  margin-bottom: 14px;
  color: var(--text-muted);
  font-size: 13px;
  text-align: center;
}

.filter-bar {
  display: flex;
  gap: 8px;
  margin-bottom: 10px;
  flex-wrap: wrap;
}

.filter-btn {
  background: var(--bg-input);
  border: 1px solid var(--border);
  color: var(--text);
  padding: 7px 14px;
  border-radius: 16px;
  font-size: 13px;
  cursor: pointer;
  transition: all 0.15s;
}

.filter-btn:hover { background: var(--border); }
.filter-btn.active { background: var(--accent-orange); color: #000; font-weight: 600; }
.filter-btn.low.active { background: #238636; }
.filter-btn.moderate.active { background: #9e6a03; }
.filter-btn.higher.active { background: #bd5c00; }

.tier-section {
  margin-bottom: 32px;
}

.tier-section h2 {
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 4px;
}

.tier-desc {
  font-size: 12px;
  color: var(--text-muted);
  margin-bottom: 12px;
}

/* Tabulator Customizations (matching Patrol) */
.tabulator {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  font-size: 13px;
}

.tabulator-header {
  background: var(--bg-input) !important;
  border-bottom: 2px solid var(--border) !important;
}

.tabulator-col {
  background: transparent !important;
  border-right: 1px solid var(--border) !important;
}

.tabulator-col-group .tabulator-col-group-cols {
  border-right: 2px solid var(--border) !important;
}

.tabulator-col-title {
  font-weight: 600 !important;
  font-size: 11px !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
  color: var(--text-muted) !important;
}

.tabulator-col-group-cols .tabulator-col-title {
  font-size: 10px !important;
}

.tabulator-header-filter input {
  background: var(--bg-dark) !important;
  border: 1px solid var(--border) !important;
  border-radius: 4px !important;
  color: var(--text) !important;
  padding: 4px 6px !important;
  font-size: 11px !important;
}

.tabulator-row {
  background: transparent !important;
  border-bottom: 1px solid var(--border) !important;
}

.tabulator-row:hover {
  background: rgba(255,255,255,0.03) !important;
}

.tabulator-cell {
  border-right: 1px solid rgba(48,54,61,0.5) !important;
  padding: 8px 10px !important;
}

.cell-ticker { font-weight: 700; }
.cell-muted { color: var(--text-muted); }
.cell-green { color: var(--accent-green); font-weight: 600; }
.cell-teal { color: var(--accent-teal); font-weight: 600; }
.cell-yellow { color: var(--accent-yellow); }
.cell-orange { color: var(--accent-orange); font-weight: 600; }
.cell-red { color: var(--accent-red); }

.rating-fortified { color: var(--accent-green); font-weight: 600; }
.rating-constrained { color: var(--accent-yellow); font-weight: 600; }
.rating-exposed { color: var(--accent-red); font-weight: 600; }

.metrics-guide {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 20px;
  margin-top: 24px;
}

.metrics-guide h3 {
  color: var(--text);
  margin-bottom: 12px;
  font-size: 16px;
}

.metrics-guide p {
  color: var(--text-muted);
  font-size: 13px;
  margin: 8px 0;
  line-height: 1.5;
}

.metrics-guide strong {
  color: var(--text);
}

footer {
  text-align: center;
  color: var(--text-muted);
  font-size: 11px;
  padding: 16px 0;
  border-top: 1px solid var(--border);
  margin-top: 20px;
}
  </style>
</head>
<body>
  <header>
    <div class="header-left">
      <div class="logo">STRATOSIQ</div>
      <span class="version">STRIKE v4.0</span>
    </div>
    <div class="header-right">
      <div class="date-info">Wednesday, January 28, 2026</div>
      <div class="contract-count">32 earnings opportunities</div>
    </div>
  </header>
  <div class="risk-notice">
    <em>âš¡ Earnings-driven opportunities ordered by risk posture â€” Low, Moderate, Elevated â€” reflecting probability of profit.</em>
  </div>
  <div class="filter-bar">
    <button class="filter-btn active" data-filter="all">All (32)</button>
    <button class="filter-btn low" data-filter="LOW">ðŸŸ¢ Low Risk (31)</button>
    <button class="filter-btn moderate" data-filter="MODERATE">ðŸŸ¡ Moderate (1)</button>
    <button class="filter-btn higher" data-filter="HIGHER">ðŸŸ  Elevated (0)</button>
  </div>
  <main>
    <section class="tier-section" data-tier="LOW">
      <h2>ðŸŸ¢ LOW RISK â€” CONSERVATIVE</h2>
      <p class="tier-desc">Conservative positions with higher probability of profit (â‰¥90%). Optimal for capital preservation.</p>
      <div id="table-LOW"></div>
    </section>
    <section class="tier-section" data-tier="MODERATE">
      <h2>ðŸŸ¡ MODERATE RISK â€” BALANCED</h2>
      <p class="tier-desc">Balanced risk/reward with 85-89% probability of profit. Good yield potential with reasonable protection.</p>
      <div id="table-MODERATE"></div>
    </section>
  </main>
  <div class="metrics-guide">
    <h3>ðŸ“– Understanding Your Metrics</h3>
    <p><strong>Score (0â€“10):</strong> Quality score based on 6 factors (delta, IVP, liquidity, sigma distance, DTE, return on margin).</p>
    <p><strong>Delta:</strong> Market-implied probability proxy. Example: â€“0.15 delta â‰ˆ ~85% chance the option expires worthless.</p>
    <p><strong>Days to Earnings:</strong> Number of days until the company's earnings announcement â€” the key catalyst for Strike strategies.</p>
    <p><strong>IVP:</strong> IV Percentile â€” where current implied volatility ranks over the past year (35-80% is optimal for premium selling).</p>
    <p><strong>Shield:</strong> Estimated danger-floor price based on volatility and time.<br>ðŸŸ¢ <strong>FORTIFIED</strong> (â‰¥5% buffer) Â· ðŸŸ¡ <strong>CONSTRAINED</strong> (2-5%) Â· ðŸ”´ <strong>EXPOSED</strong> (&lt;2%)</p>
    <p><strong>ARoC:</strong> Annualized Return on Capital at risk.</p>
    <p><strong>Capital:</strong> Cash required to hold the position (cash-secured puts = strike Ã— 100 shares).</p>
  </div>
  <footer>Generated by StratosIQ Strike Â· Earnings-driven options discovery</footer>
  <script src="https://unpkg.com/tabulator-tables@6.3.0/dist/js/tabulator.min.js"></script>
  <script>
var tierData = {"LOW":[{"ticker":"AMD","expiry":"2026-02-05","dte":10,"daysToEarnings":5,"strike":210,"spot":252.74,"delta":-0.0737,"ivp":90,"premium":1.1,"spreadPct":2.74,"score":7.42,"pop":92.6,"aroc":0.1903,"thetaEff":14.0504,"capital":21000,"shieldPrice":244.2,"buffer":3.38,"riskTier":"LOW"},{"ticker":"GOOGL","expiry":"2026-02-05","dte":10,"daysToEarnings":6,"strike":300,"spot":336.25,"delta":-0.0743,"ivp":90,"premium":1.1,"spreadPct":3.64,"score":7.42,"pop":92.6,"aroc":0.1338,"thetaEff":8.5145,"capital":30000,"shieldPrice":324.88,"buffer":3.38,"riskTier":"LOW"},{"ticker":"GOOG","expiry":"2026-02-05","dte":10,"daysToEarnings":6,"strike":300,"spot":336.54,"delta":-0.0703,"ivp":90,"premium":1.06,"spreadPct":4.69,"score":7.31,"pop":93,"aroc":0.1296,"thetaEff":7.9107,"capital":30000,"shieldPrice":325.16,"buffer":3.38,"riskTier":"LOW"},{"ticker":"AMZN","expiry":"2026-02-05","dte":10,"daysToEarnings":7,"strike":215,"spot":243.16,"delta":-0.0926,"ivp":90,"premium":1.15,"spreadPct":2.62,"score":7.11,"pop":90.7,"aroc":0.1944,"thetaEff":11.6395,"capital":21500,"shieldPrice":234.94,"buffer":3.38,"riskTier":"LOW"},{"ticker":"AMD","expiry":"2026-01-29","dte":3,"daysToEarnings":5,"strike":225,"spot":252.74,"delta":-0.0604,"ivp":90,"premium":0.45,"spreadPct":6.74,"score":7.07,"pop":94,"aroc":0.2406,"thetaEff":23.767,"capital":22500,"shieldPrice":248.06,"buffer":1.85,"riskTier":"LOW"},{"ticker":"ALB","expiry":"2026-01-29","dte":3,"daysToEarnings":13,"strike":170,"spot":184.07,"delta":-0.0981,"ivp":70,"premium":0.65,"spreadPct":110.08,"score":6.86,"pop":90.2,"aroc":0.4616,"thetaEff":32.2045,"capital":17000,"shieldPrice":180.32,"buffer":2.04,"riskTier":"LOW"},{"ticker":"AMD","expiry":"2026-02-12","dte":17,"daysToEarnings":5,"strike":200,"spot":252.74,"delta":-0.0625,"ivp":90,"premium":1.06,"spreadPct":6.64,"score":6.84,"pop":93.8,"aroc":0.1133,"thetaEff":9.2332,"capital":20000,"shieldPrice":241.6,"buffer":4.41,"riskTier":"LOW"},{"ticker":"AMZN","expiry":"2026-02-12","dte":17,"daysToEarnings":7,"strike":205,"spot":243.16,"delta":-0.0758,"ivp":90,"premium":0.83,"spreadPct":2.41,"score":6.76,"pop":92.4,"aroc":0.0869,"thetaEff":7.887,"capital":20500,"shieldPrice":232.44,"buffer":4.41,"riskTier":"LOW"},{"ticker":"HOOD","expiry":"2026-02-05","dte":10,"daysToEarnings":12,"strike":90,"spot":103.45,"delta":-0.0744,"ivp":90,"premium":0.38,"spreadPct":24,"score":6.52,"pop":92.6,"aroc":0.1521,"thetaEff":10.304,"capital":9000,"shieldPrice":99.6,"buffer":3.72,"riskTier":"LOW"},{"ticker":"AMAT","expiry":"2026-01-29","dte":3,"daysToEarnings":14,"strike":310,"spot":336.75,"delta":-0.0768,"ivp":80,"premium":0.88,"spreadPct":74.29,"score":6.48,"pop":92.3,"aroc":0.3434,"thetaEff":23.4321,"capital":31000,"shieldPrice":329.89,"buffer":2.04,"riskTier":"LOW"},{"ticker":"APA","expiry":"2026-02-12","dte":17,"daysToEarnings":27,"strike":22,"spot":26.02,"delta":-0.0604,"ivp":60,"premium":0.12,"spreadPct":183.33,"score":6.41,"pop":94,"aroc":0.1171,"thetaEff":4.8285,"capital":2200,"shieldPrice":24.76,"buffer":4.85,"riskTier":"LOW"},{"ticker":"GOOGL","expiry":"2026-02-12","dte":17,"daysToEarnings":6,"strike":290,"spot":336.25,"delta":-0.071,"ivp":90,"premium":1.02,"spreadPct":4.93,"score":6.34,"pop":92.9,"aroc":0.0751,"thetaEff":6.5357,"capital":29000,"shieldPrice":321.43,"buffer":4.41,"riskTier":"LOW"},{"ticker":"HUM","expiry":"2026-02-05","dte":10,"daysToEarnings":13,"strike":170,"spot":193.64,"delta":-0.0728,"ivp":60,"premium":0.52,"spreadPct":66.67,"score":6.28,"pop":92.7,"aroc":0.1127,"thetaEff":8.0893,"capital":17000,"shieldPrice":185.36,"buffer":4.28,"riskTier":"LOW"},{"ticker":"HUM","expiry":"2026-02-12","dte":17,"daysToEarnings":13,"strike":160,"spot":193.64,"delta":-0.09,"ivp":60,"premium":1.53,"spreadPct":88.52,"score":6.24,"pop":91,"aroc":0.2046,"thetaEff":9.0989,"capital":16000,"shieldPrice":182.84,"buffer":5.58,"riskTier":"LOW"},{"ticker":"GOOG","expiry":"2026-02-12","dte":17,"daysToEarnings":6,"strike":295,"spot":336.54,"delta":-0.0736,"ivp":90,"premium":1.32,"spreadPct":4.55,"score":6.1,"pop":92.6,"aroc":0.0961,"thetaEff":5.9115,"capital":29500,"shieldPrice":321.71,"buffer":4.41,"riskTier":"LOW"},{"ticker":"INTU","expiry":"2026-02-12","dte":17,"daysToEarnings":26,"strike":480,"spot":539,"delta":-0.0702,"ivp":60,"premium":1.88,"spreadPct":194.67,"score":6.09,"pop":93,"aroc":0.0839,"thetaEff":4.3018,"capital":48000,"shieldPrice":508.95,"buffer":5.58,"riskTier":"LOW"},{"ticker":"IRM","expiry":"2026-02-12","dte":17,"daysToEarnings":14,"strike":79,"spot":92.29,"delta":-0.0638,"ivp":40,"premium":0.33,"spreadPct":169.23,"score":6.09,"pop":93.6,"aroc":0.0883,"thetaEff":3.8302,"capital":7900,"shieldPrice":87.14,"buffer":5.58,"riskTier":"LOW"},{"ticker":"ALB","expiry":"2026-02-12","dte":17,"daysToEarnings":13,"strike":150,"spot":184.07,"delta":-0.0924,"ivp":70,"premium":1.3,"spreadPct":63.08,"score":6.08,"pop":90.8,"aroc":0.1861,"thetaEff":11.314,"capital":15000,"shieldPrice":173.81,"buffer":5.58,"riskTier":"LOW"},{"ticker":"ALB","expiry":"2026-02-05","dte":10,"daysToEarnings":13,"strike":157.5,"spot":184.07,"delta":-0.0621,"ivp":70,"premium":0.69,"spreadPct":103.65,"score":5.96,"pop":93.8,"aroc":0.1587,"thetaEff":9.5808,"capital":15750,"shieldPrice":176.2,"buffer":4.28,"riskTier":"LOW"},{"ticker":"AMGN","expiry":"2026-02-05","dte":10,"daysToEarnings":5,"strike":307.5,"spot":342.37,"delta":-0.0793,"ivp":70,"premium":2.15,"spreadPct":162.79,"score":5.96,"pop":92.1,"aroc":0.2552,"thetaEff":7.0523,"capital":30750,"shieldPrice":327.73,"buffer":4.28,"riskTier":"LOW"},{"ticker":"APA","expiry":"2026-02-05","dte":10,"daysToEarnings":27,"strike":23,"spot":26.02,"delta":-0.0646,"ivp":60,"premium":0.11,"spreadPct":109.09,"score":5.96,"pop":93.5,"aroc":0.1746,"thetaEff":5.0122,"capital":2300,"shieldPrice":24.91,"buffer":4.28,"riskTier":"LOW"},{"ticker":"INTU","expiry":"2026-02-05","dte":10,"daysToEarnings":26,"strike":482.5,"spot":539,"delta":-0.063,"ivp":60,"premium":1.2,"spreadPct":191.67,"score":5.96,"pop":93.7,"aroc":0.0908,"thetaEff":5.1373,"capital":48250,"shieldPrice":515.95,"buffer":4.28,"riskTier":"LOW"},{"ticker":"HOOD","expiry":"2026-01-29","dte":3,"daysToEarnings":12,"strike":96,"spot":103.45,"delta":-0.0724,"ivp":90,"premium":0.16,"spreadPct":19.35,"score":5.94,"pop":92.8,"aroc":0.1964,"thetaEff":18.6059,"capital":9600,"shieldPrice":101.53,"buffer":1.85,"riskTier":"LOW"},{"ticker":"ARM","expiry":"2026-01-29","dte":3,"daysToEarnings":6,"strike":102,"spot":110.17,"delta":-0.0933,"ivp":90,"premium":0.3,"spreadPct":23.73,"score":5.85,"pop":90.7,"aroc":0.3519,"thetaEff":24.4721,"capital":10200,"shieldPrice":107.93,"buffer":2.04,"riskTier":"LOW"},{"ticker":"GNRC","expiry":"2026-02-05","dte":10,"daysToEarnings":13,"strike":157.5,"spot":173.99,"delta":-0.0902,"ivp":50,"premium":1.25,"spreadPct":160,"score":5.79,"pop":91,"aroc":0.2897,"thetaEff":10.636,"capital":15750,"shieldPrice":166.55,"buffer":4.28,"riskTier":"LOW"},{"ticker":"ALGN","expiry":"2026-02-05","dte":10,"daysToEarnings":6,"strike":137,"spot":164.87,"delta":-0.0982,"ivp":40,"premium":2.92,"spreadPct":196.58,"score":5.75,"pop":90.2,"aroc":0.7793,"thetaEff":18.804,"capital":13700,"shieldPrice":157.82,"buffer":4.28,"riskTier":"LOW"},{"ticker":"ANET","expiry":"2026-02-05","dte":10,"daysToEarnings":19,"strike":130,"spot":150.16,"delta":-0.0798,"ivp":80,"premium":0.43,"spreadPct":18.6,"score":5.75,"pop":92,"aroc":0.1207,"thetaEff":10.2171,"capital":13000,"shieldPrice":145.08,"buffer":3.38,"riskTier":"LOW"},{"ticker":"ANET","expiry":"2026-02-12","dte":17,"daysToEarnings":19,"strike":120,"spot":150.16,"delta":-0.0698,"ivp":80,"premium":1.34,"spreadPct":73.13,"score":5.71,"pop":93,"aroc":0.2398,"thetaEff":10.8453,"capital":12000,"shieldPrice":142.88,"buffer":4.85,"riskTier":"LOW"},{"ticker":"GNRC","expiry":"2026-02-12","dte":17,"daysToEarnings":13,"strike":146,"spot":173.99,"delta":-0.0967,"ivp":50,"premium":1.95,"spreadPct":128.21,"score":5.7,"pop":90.3,"aroc":0.2868,"thetaEff":11.0214,"capital":14600,"shieldPrice":164.29,"buffer":5.58,"riskTier":"LOW"},{"ticker":"GNRC","expiry":"2026-01-29","dte":3,"daysToEarnings":13,"strike":160,"spot":173.99,"delta":-0.0642,"ivp":50,"premium":0.35,"spreadPct":171.43,"score":5.66,"pop":93.6,"aroc":0.2661,"thetaEff":19.2201,"capital":16000,"shieldPrice":169.91,"buffer":2.34,"riskTier":"LOW"},{"ticker":"APP","expiry":"2026-02-05","dte":10,"daysToEarnings":13,"strike":460,"spot":542.78,"delta":-0.0725,"ivp":80,"premium":2.1,"spreadPct":14.29,"score":5.62,"pop":92.8,"aroc":0.1666,"thetaEff":12.8296,"capital":46000,"shieldPrice":521.68,"buffer":3.89,"riskTier":"LOW"}],"MODERATE":[{"ticker":"BAX","expiry":"2026-02-12","dte":17,"daysToEarnings":14,"strike":17,"spot":19.62,"delta":-0.1466,"ivp":60,"premium":0.22,"spreadPct":66.67,"score":5.57,"pop":85.3,"aroc":0.2842,"thetaEff":14.3454,"capital":1700,"shieldPrice":18.67,"buffer":4.85,"riskTier":"MODERATE"}],"HIGHER":[]};

// Column definitions with grouped headers (matching Patrol style)
var columns = [
  // CONTRACT DETAILS group
  {
    title: "CONTRACT DETAILS",
    columns: [
      { title: "TICKER", field: "ticker", width: 75, headerFilter: "input",
        formatter: function(c) { return "<span class=\"cell-ticker\">" + c.getValue() + "</span>"; }
      },
      { title: "EXPIRY", field: "expiry", width: 95, headerFilter: "input",
        formatter: function(c) { return "<span class=\"cell-muted\">" + c.getValue() + "</span>"; }
      },
      { title: "DTE", field: "dte", width: 55, hozAlign: "right", headerFilter: "input" },
      { title: "STRIKE", field: "strike", width: 80, hozAlign: "right", headerFilter: "input",
        formatter: function(c) { return "$" + c.getValue().toFixed(2); }
      },
      { title: "SPOT", field: "spot", width: 80, hozAlign: "right", headerFilter: "input",
        formatter: function(c) { return "$" + c.getValue().toFixed(2); }
      }
    ]
  },
  // EARNINGS & IV group (Strike-specific)
  {
    title: "EARNINGS & IV",
    columns: [
      { title: "DAYS TO EARN", field: "daysToEarnings", width: 100, hozAlign: "right", headerFilter: "input",
        formatter: function(c) {
          var v = c.getValue();
          var cls = v <= 7 ? "cell-orange" : v <= 14 ? "cell-yellow" : "";
          return "<span class=\"" + cls + "\">" + v + " days</span>";
        }
      },
      { title: "IVP", field: "ivp", width: 65, hozAlign: "right", headerFilter: "input",
        formatter: function(c) {
          var v = c.getValue();
          if (v == null) return "â€”";
          var cls = v >= 50 ? "cell-green" : v >= 35 ? "cell-yellow" : "";
          return "<span class=\"" + cls + "\">" + v.toFixed(0) + "%</span>";
        }
      }
    ]
  },
  // GREEKS & PREMIUM group
  {
    title: "GREEKS & PREMIUM",
    columns: [
      { title: "DELTA", field: "delta", width: 70, hozAlign: "right", headerFilter: "input",
        formatter: function(c) { return c.getValue().toFixed(2); }
      },
      { title: "PREMIUM", field: "premium", width: 85, hozAlign: "right", headerFilter: "input",
        formatter: function(c) {
          var v = c.getValue();
          var cls = v >= 1.5 ? "cell-teal" : v >= 0.5 ? "cell-green" : "";
          return "<span class=\"" + cls + "\">$" + v.toFixed(2) + "</span>";
        }
      },
      { title: "SPREAD%", field: "spreadPct", width: 80, hozAlign: "right", headerFilter: "input",
        formatter: function(c) {
          var v = c.getValue();
          var cls = v > 15 ? "cell-red" : v > 10 ? "cell-yellow" : "";
          return "<span class=\"" + cls + "\">" + v.toFixed(1) + "%</span>";
        }
      }
    ]
  },
  // CONTRACT ANALYSIS group
  {
    title: "CONTRACT ANALYSIS",
    columns: [
      { title: "SCORE", field: "score", width: 70, hozAlign: "right", headerFilter: "input",
        formatter: function(c) { return (c.getValue()).toFixed(1) + "/10"; }
      },
      { title: "POP", field: "pop", width: 65, hozAlign: "right", headerFilter: "input",
        formatter: function(c) {
          var v = c.getValue();
          if (v == null || v === 0) return "â€”";
          var pct = v.toFixed(0) + "%";
          var cls = v >= 85 ? "cell-green" : v >= 80 ? "cell-yellow" : "";
          return "<span class=\"" + cls + "\">" + pct + "</span>";
        }
      },
      { title: "ARoC", field: "aroc", width: 70, hozAlign: "right", headerFilter: "input",
        formatter: function(c) {
          var v = c.getValue();
          if (v == null || v === 0) return "â€”";
          var pct = (v * 100).toFixed(1) + "%";
          var cls = v >= 0.20 ? "cell-green" : v >= 0.15 ? "cell-yellow" : "";
          return "<span class=\"" + cls + "\">" + pct + "</span>";
        }
      },
      { title: "Î¸ EFF", field: "thetaEff", width: 70, hozAlign: "right", headerFilter: "input",
        formatter: function(c) { var v = c.getValue(); return (v != null && v !== 0) ? v.toFixed(2) : "â€”"; }
      },
      { title: "CAPITAL", field: "capital", width: 90, hozAlign: "right", headerFilter: "input",
        formatter: function(c) { var v = c.getValue(); return v != null ? "$" + v.toLocaleString() : "â€”"; }
      }
    ]
  },
  // SHIELD group
  {
    title: "SHIELD",
    columns: [
      { title: "EXP MOVE", field: "shieldPrice", width: 85, hozAlign: "right", headerFilter: "input",
        formatter: function(c) { var v = c.getValue(); return v != null ? "$" + v.toFixed(2) : "â€”"; }
      },
      { title: "BUFFER", field: "buffer", width: 85, hozAlign: "right", headerFilter: "input",
        formatter: function(c) {
          var v = c.getValue();
          if (v == null) return "â€”";
          var cls = v >= 5 ? "cell-green" : v >= 2 ? "cell-yellow" : "cell-red";
          return "<span class=\"" + cls + "\">" + v.toFixed(1) + "%</span>";
        }
      }
    ]
  }
];

// Initialize tables for each risk tier
["LOW", "MODERATE", "HIGHER"].forEach(function(tier) {
  var el = document.getElementById("table-" + tier);
  if (el && tierData[tier] && tierData[tier].length > 0) {
    new Tabulator("#table-" + tier, {
      data: tierData[tier],
      layout: "fitDataStretch",
      columns: columns,
      headerFilterPlaceholder: "",
      columnHeaderVertAlign: "bottom",
      initialSort: [{ column: "score", dir: "desc" }]
    });
  }
});

// Filter buttons
document.querySelectorAll(".filter-btn").forEach(function(btn) {
  btn.addEventListener("click", function() {
    document.querySelectorAll(".filter-btn").forEach(function(b) { b.classList.remove("active"); });
    this.classList.add("active");
    var f = this.dataset.filter;
    document.querySelectorAll(".tier-section").forEach(function(s) {
      s.style.display = (f === "all" || s.dataset.tier === f) ? "block" : "none";
    });
  });
});
  </script>
</body>
</html>